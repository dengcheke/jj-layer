define(["exports","esri/geometry/geometryEngine","esri/geometry/projection","esri/geometry/SpatialReference"],(function(t,r,e,n){"use strict";function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var r=Object.create(null);return t&&Object.keys(t).forEach((function(e){if("default"!==e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})}})),r.default=t,Object.freeze(r)}var a=i(r),u=i(e),f=o(n);function c(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function s(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function y(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function h(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?y(Object(e),!0).forEach((function(r){l(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):y(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}function p(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done)&&(e.push(a.value),!r||e.length!==r);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return e}(t,r)||v(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,r){if(t){if("string"==typeof t)return g(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?g(t,r):void 0}}function g(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},x=function(t){return t&&t.Math==Math&&t},w=x("object"==typeof globalThis&&globalThis)||x("object"==typeof window&&window)||x("object"==typeof self&&self)||x("object"==typeof b&&b)||function(){return this}()||Function("return this")(),A={},m=function(t){try{return!!t()}catch(t){return!0}},O=!m((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),T={},S={}.propertyIsEnumerable,M=Object.getOwnPropertyDescriptor,j=M&&!S.call({1:2},1);T.f=j?function(t){var r=M(this,t);return!!r&&r.enumerable}:S;var E=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}},I={}.toString,k=function(t){return I.call(t).slice(8,-1)},P=k,_="".split,D=m((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==P(t)?_.call(t,""):Object(t)}:Object,R=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},W=D,L=R,F=function(t){return W(L(t))},U=function(t){return"object"==typeof t?null!==t:"function"==typeof t},N=U,V=function(t,r){if(!N(t))return t;var e,n;if(r&&"function"==typeof(e=t.toString)&&!N(n=e.call(t)))return n;if("function"==typeof(e=t.valueOf)&&!N(n=e.call(t)))return n;if(!r&&"function"==typeof(e=t.toString)&&!N(n=e.call(t)))return n;throw TypeError("Can't convert object to primitive value")},B={}.hasOwnProperty,C=function(t,r){return B.call(t,r)},Y=U,z=w.document,G=Y(z)&&Y(z.createElement),q=function(t){return G?z.createElement(t):{}},J=q,X=!O&&!m((function(){return 7!=Object.defineProperty(J("div"),"a",{get:function(){return 7}}).a})),$=O,K=T,H=E,Q=F,Z=V,tt=C,rt=X,et=Object.getOwnPropertyDescriptor;A.f=$?et:function(t,r){if(t=Q(t),r=Z(r,!0),rt)try{return et(t,r)}catch(t){}if(tt(t,r))return H(!K.f.call(t,r),t[r])};var nt={},ot=U,it=function(t){if(!ot(t))throw TypeError(String(t)+" is not an object");return t},at=O,ut=X,ft=it,ct=V,st=Object.defineProperty;nt.f=at?st:function(t,r,e){if(ft(t),r=ct(r,!0),ft(e),ut)try{return st(t,r,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported");return"value"in e&&(t[r]=e.value),t};var lt=nt,yt=E,ht=O?function(t,r,e){return lt.f(t,r,yt(1,e))}:function(t,r,e){return t[r]=e,t},pt={exports:{}},dt=w,vt=ht,gt=function(t,r){try{vt(dt,t,r)}catch(e){dt[t]=r}return r},bt=gt,xt="__core-js_shared__",wt=w[xt]||bt(xt,{}),At=wt,mt=Function.toString;"function"!=typeof At.inspectSource&&(At.inspectSource=function(t){return mt.call(t)});var Ot=At.inspectSource,Tt=Ot,St=w.WeakMap,Mt="function"==typeof St&&/native code/.test(Tt(St)),jt={exports:{}},Et=wt;(jt.exports=function(t,r){return Et[t]||(Et[t]=void 0!==r?r:{})})("versions",[]).push({version:"3.9.1",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"});var It,kt,Pt,_t=0,Dt=Math.random(),Rt=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++_t+Dt).toString(36)},Wt=jt.exports,Lt=Rt,Ft=Wt("keys"),Ut=function(t){return Ft[t]||(Ft[t]=Lt(t))},Nt={},Vt=Mt,Bt=U,Ct=ht,Yt=C,zt=wt,Gt=Ut,qt=Nt,Jt=w.WeakMap;if(Vt){var Xt=zt.state||(zt.state=new Jt),$t=Xt.get,Kt=Xt.has,Ht=Xt.set;It=function(t,r){return r.facade=t,Ht.call(Xt,t,r),r},kt=function(t){return $t.call(Xt,t)||{}},Pt=function(t){return Kt.call(Xt,t)}}else{var Qt=Gt("state");qt[Qt]=!0,It=function(t,r){return r.facade=t,Ct(t,Qt,r),r},kt=function(t){return Yt(t,Qt)?t[Qt]:{}},Pt=function(t){return Yt(t,Qt)}}var Zt={set:It,get:kt,has:Pt,enforce:function(t){return Pt(t)?kt(t):It(t,{})},getterFor:function(t){return function(r){var e;if(!Bt(r)||(e=kt(r)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return e}}},tr=w,rr=ht,er=C,nr=gt,or=Ot,ir=Zt.get,ar=Zt.enforce,ur=String(String).split("String");(pt.exports=function(t,r,e,n){var o,i=!!n&&!!n.unsafe,a=!!n&&!!n.enumerable,u=!!n&&!!n.noTargetGet;"function"==typeof e&&("string"!=typeof r||er(e,"name")||rr(e,"name",r),(o=ar(e)).source||(o.source=ur.join("string"==typeof r?r:""))),t!==tr?(i?!u&&t[r]&&(a=!0):delete t[r],a?t[r]=e:rr(t,r,e)):a?t[r]=e:nr(r,e)})(Function.prototype,"toString",(function(){return"function"==typeof this&&ir(this).source||or(this)}));var fr=w,cr=w,sr=function(t){return"function"==typeof t?t:void 0},lr=function(t,r){return arguments.length<2?sr(fr[t])||sr(cr[t]):fr[t]&&fr[t][r]||cr[t]&&cr[t][r]},yr={},hr=Math.ceil,pr=Math.floor,dr=function(t){return isNaN(t=+t)?0:(t>0?pr:hr)(t)},vr=dr,gr=Math.min,br=function(t){return t>0?gr(vr(t),9007199254740991):0},xr=dr,wr=Math.max,Ar=Math.min,mr=function(t,r){var e=xr(t);return e<0?wr(e+r,0):Ar(e,r)},Or=F,Tr=br,Sr=mr,Mr=function(t){return function(r,e,n){var o,i=Or(r),a=Tr(i.length),u=Sr(n,a);if(t&&e!=e){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===e)return t||u||0;return!t&&-1}},jr={includes:Mr(!0),indexOf:Mr(!1)},Er=C,Ir=F,kr=jr.indexOf,Pr=Nt,_r=function(t,r){var e,n=Ir(t),o=0,i=[];for(e in n)!Er(Pr,e)&&Er(n,e)&&i.push(e);for(;r.length>o;)Er(n,e=r[o++])&&(~kr(i,e)||i.push(e));return i},Dr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Rr=_r,Wr=Dr.concat("length","prototype");yr.f=Object.getOwnPropertyNames||function(t){return Rr(t,Wr)};var Lr={};Lr.f=Object.getOwnPropertySymbols;var Fr,Ur,Nr=yr,Vr=Lr,Br=it,Cr=lr("Reflect","ownKeys")||function(t){var r=Nr.f(Br(t)),e=Vr.f;return e?r.concat(e(t)):r},Yr=C,zr=Cr,Gr=A,qr=nt,Jr=m,Xr=/#|\.prototype\./,$r=function(t,r){var e=Hr[Kr(t)];return e==Zr||e!=Qr&&("function"==typeof r?Jr(r):!!r)},Kr=$r.normalize=function(t){return String(t).replace(Xr,".").toLowerCase()},Hr=$r.data={},Qr=$r.NATIVE="N",Zr=$r.POLYFILL="P",te=$r,re=w,ee=A.f,ne=ht,oe=pt.exports,ie=gt,ae=function(t,r){for(var e=zr(r),n=qr.f,o=Gr.f,i=0;i<e.length;i++){var a=e[i];Yr(t,a)||n(t,a,o(r,a))}},ue=te,fe=function(t,r){var e,n,o,i,a,u=t.target,f=t.global,c=t.stat;if(e=f?re:c?re[u]||ie(u,{}):(re[u]||{}).prototype)for(n in r){if(i=r[n],o=t.noTargetGet?(a=ee(e,n))&&a.value:e[n],!ue(f?n:u+(c?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;ae(i,o)}(t.sham||o&&o.sham)&&ne(i,"sham",!0),oe(e,n,i,t)}},ce=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},se=ce,le=function(t,r,e){if(se(t),void 0===r)return t;switch(e){case 0:return function(){return t.call(r)};case 1:return function(e){return t.call(r,e)};case 2:return function(e,n){return t.call(r,e,n)};case 3:return function(e,n,o){return t.call(r,e,n,o)}}return function(){return t.apply(r,arguments)}},ye=R,he=function(t){return Object(ye(t))},pe=k,de=Array.isArray||function(t){return"Array"==pe(t)},ve="process"==k(w.process),ge=lr("navigator","userAgent")||"",be=w.process,xe=be&&be.versions,we=xe&&xe.v8;we?Ur=(Fr=we.split("."))[0]+Fr[1]:ge&&(!(Fr=ge.match(/Edge\/(\d+)/))||Fr[1]>=74)&&(Fr=ge.match(/Chrome\/(\d+)/))&&(Ur=Fr[1]);var Ae=Ur&&+Ur,me=ve,Oe=Ae,Te=m,Se=!!Object.getOwnPropertySymbols&&!Te((function(){return!Symbol.sham&&(me?38===Oe:Oe>37&&Oe<41)})),Me=Se&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,je=w,Ee=jt.exports,Ie=C,ke=Rt,Pe=Se,_e=Me,De=Ee("wks"),Re=je.Symbol,We=_e?Re:Re&&Re.withoutSetter||ke,Le=function(t){return Ie(De,t)&&(Pe||"string"==typeof De[t])||(Pe&&Ie(Re,t)?De[t]=Re[t]:De[t]=We("Symbol."+t)),De[t]},Fe=U,Ue=de,Ne=Le("species"),Ve=le,Be=D,Ce=he,Ye=br,ze=function(t,r){var e;return Ue(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Ue(e.prototype)?Fe(e)&&null===(e=e[Ne])&&(e=void 0):e=void 0),new(void 0===e?Array:e)(0===r?0:r)},Ge=[].push,qe=function(t){var r=1==t,e=2==t,n=3==t,o=4==t,i=6==t,a=7==t,u=5==t||i;return function(f,c,s,l){for(var y,h,p=Ce(f),d=Be(p),v=Ve(c,s,3),g=Ye(d.length),b=0,x=l||ze,w=r?x(f,g):e||a?x(f,0):void 0;g>b;b++)if((u||b in d)&&(h=v(y=d[b],b,p),t))if(r)w[b]=h;else if(h)switch(t){case 3:return!0;case 5:return y;case 6:return b;case 2:Ge.call(w,y)}else switch(t){case 4:return!1;case 7:Ge.call(w,y)}return i?-1:n||o?o:w}},Je={forEach:qe(0),map:qe(1),filter:qe(2),some:qe(3),every:qe(4),find:qe(5),findIndex:qe(6),filterOut:qe(7)},Xe=m,$e=Ae,Ke=Le("species"),He=Je.map;fe({target:"Array",proto:!0,forced:!function(t){return $e>=51||!Xe((function(){var r=[];return(r.constructor={})[Ke]=function(){return{foo:1}},1!==r[t](Boolean).foo}))}("map")},{map:function(t){return He(this,t,arguments.length>1?arguments[1]:void 0)}});var Qe=de,Ze=[].reverse,tn=[1,2];fe({target:"Array",proto:!0,forced:String(tn)===String(tn.reverse())},{reverse:function(){return Qe(this)&&(this.length=this.length),Ze.call(this)}});var rn=m,en=function(t,r){var e=[][t];return!!e&&rn((function(){e.call(null,r||function(){throw 1},1)}))},nn=Je.forEach,on=en("forEach")?[].forEach:function(t){return nn(this,t,arguments.length>1?arguments[1]:void 0)};fe({target:"Array",proto:!0,forced:[].forEach!=on},{forEach:on});var an=he,un=V;fe({target:"Date",proto:!0,forced:m((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var r=an(this),e=un(r);return"number"!=typeof e||isFinite(e)?r.toISOString():null}}),fe({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var fn={exports:{}},cn=Le("iterator"),sn=!1;try{var ln=0,yn={next:function(){return{done:!!ln++}},return:function(){sn=!0}};yn[cn]=function(){return this},Array.from(yn,(function(){throw 2}))}catch(t){}var hn="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,pn={};pn[Le("toStringTag")]="z";var dn,vn="[object z]"===String(pn),gn=vn,bn=k,xn=Le("toStringTag"),wn="Arguments"==bn(function(){return arguments}()),An=gn?bn:function(t){var r,e,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,r){try{return t[r]}catch(t){}}(r=Object(t),xn))?e:wn?bn(r):"Object"==(n=bn(r))&&"function"==typeof r.callee?"Arguments":n},mn=!m((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),On=C,Tn=he,Sn=mn,Mn=Ut("IE_PROTO"),jn=Object.prototype,En=Sn?Object.getPrototypeOf:function(t){return t=Tn(t),On(t,Mn)?t[Mn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?jn:null},In=U,kn=it,Pn=function(t){if(!In(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t},_n=Object.setPrototypeOf||("__proto__"in{}?function(){var t,r=!1,e={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),r=e instanceof Array}catch(t){}return function(e,n){return kn(e),Pn(n),r?t.call(e,n):e.__proto__=n,e}}():void 0),Dn=hn,Rn=O,Wn=w,Ln=U,Fn=C,Un=An,Nn=ht,Vn=pt.exports,Bn=nt.f,Cn=En,Yn=_n,zn=Le,Gn=Rt,qn=Wn.Int8Array,Jn=qn&&qn.prototype,Xn=Wn.Uint8ClampedArray,$n=Xn&&Xn.prototype,Kn=qn&&Cn(qn),Hn=Jn&&Cn(Jn),Qn=Object.prototype,Zn=Qn.isPrototypeOf,to=zn("toStringTag"),ro=Gn("TYPED_ARRAY_TAG"),eo=Dn&&!!Yn&&"Opera"!==Un(Wn.opera),no=!1,oo={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},io={BigInt64Array:8,BigUint64Array:8},ao=function(t){if(!Ln(t))return!1;var r=Un(t);return Fn(oo,r)||Fn(io,r)};for(dn in oo)Wn[dn]||(eo=!1);if((!eo||"function"!=typeof Kn||Kn===Function.prototype)&&(Kn=function(){throw TypeError("Incorrect invocation")},eo))for(dn in oo)Wn[dn]&&Yn(Wn[dn],Kn);if((!eo||!Hn||Hn===Qn)&&(Hn=Kn.prototype,eo))for(dn in oo)Wn[dn]&&Yn(Wn[dn].prototype,Hn);if(eo&&Cn($n)!==Hn&&Yn($n,Hn),Rn&&!Fn(Hn,to))for(dn in no=!0,Bn(Hn,to,{get:function(){return Ln(this)?this[ro]:void 0}}),oo)Wn[dn]&&Nn(Wn[dn],ro,dn);var uo={NATIVE_ARRAY_BUFFER_VIEWS:eo,TYPED_ARRAY_TAG:no&&ro,aTypedArray:function(t){if(ao(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(Yn){if(Zn.call(Kn,t))return t}else for(var r in oo)if(Fn(oo,dn)){var e=Wn[r];if(e&&(t===e||Zn.call(e,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,r,e){if(Rn){if(e)for(var n in oo){var o=Wn[n];o&&Fn(o.prototype,t)&&delete o.prototype[t]}Hn[t]&&!e||Vn(Hn,t,e?r:eo&&Jn[t]||r)}},exportTypedArrayStaticMethod:function(t,r,e){var n,o;if(Rn){if(Yn){if(e)for(n in oo)(o=Wn[n])&&Fn(o,t)&&delete o[t];if(Kn[t]&&!e)return;try{return Vn(Kn,t,e?r:eo&&qn[t]||r)}catch(t){}}for(n in oo)!(o=Wn[n])||o[t]&&!e||Vn(o,t,r)}},isView:function(t){if(!Ln(t))return!1;var r=Un(t);return"DataView"===r||Fn(oo,r)||Fn(io,r)},isTypedArray:ao,TypedArray:Kn,TypedArrayPrototype:Hn},fo=w,co=m,so=function(t,r){if(!r&&!sn)return!1;var e=!1;try{var n={};n[cn]=function(){return{next:function(){return{done:e=!0}}}},t(n)}catch(t){}return e},lo=uo.NATIVE_ARRAY_BUFFER_VIEWS,yo=fo.ArrayBuffer,ho=fo.Int8Array,po=!lo||!co((function(){ho(1)}))||!co((function(){new ho(-1)}))||!so((function(t){new ho,new ho(null),new ho(1.5),new ho(t)}),!0)||co((function(){return 1!==new ho(new yo(2),1,void 0).length})),vo=pt.exports,go=function(t,r,e){if(!(t instanceof r))throw TypeError("Incorrect "+(e?e+" ":"")+"invocation");return t},bo=dr,xo=br,wo=function(t){if(void 0===t)return 0;var r=bo(t),e=xo(r);if(r!==e)throw RangeError("Wrong length or index");return e},Ao=Math.abs,mo=Math.pow,Oo=Math.floor,To=Math.log,So=Math.LN2,Mo={pack:function(t,r,e){var n,o,i,a=new Array(e),u=8*e-r-1,f=(1<<u)-1,c=f>>1,s=23===r?mo(2,-24)-mo(2,-77):0,l=t<0||0===t&&1/t<0?1:0,y=0;for((t=Ao(t))!=t||t===1/0?(o=t!=t?1:0,n=f):(n=Oo(To(t)/So),t*(i=mo(2,-n))<1&&(n--,i*=2),(t+=n+c>=1?s/i:s*mo(2,1-c))*i>=2&&(n++,i/=2),n+c>=f?(o=0,n=f):n+c>=1?(o=(t*i-1)*mo(2,r),n+=c):(o=t*mo(2,c-1)*mo(2,r),n=0));r>=8;a[y++]=255&o,o/=256,r-=8);for(n=n<<r|o,u+=r;u>0;a[y++]=255&n,n/=256,u-=8);return a[--y]|=128*l,a},unpack:function(t,r){var e,n=t.length,o=8*n-r-1,i=(1<<o)-1,a=i>>1,u=o-7,f=n-1,c=t[f--],s=127&c;for(c>>=7;u>0;s=256*s+t[f],f--,u-=8);for(e=s&(1<<-u)-1,s>>=-u,u+=r;u>0;e=256*e+t[f],f--,u-=8);if(0===s)s=1-a;else{if(s===i)return e?NaN:c?-1/0:1/0;e+=mo(2,r),s-=a}return(c?-1:1)*e*mo(2,s-r)}},jo=he,Eo=mr,Io=br,ko=function(t){for(var r=jo(this),e=Io(r.length),n=arguments.length,o=Eo(n>1?arguments[1]:void 0,e),i=n>2?arguments[2]:void 0,a=void 0===i?e:Eo(i,e);a>o;)r[o++]=t;return r},Po=nt.f,_o=C,Do=Le("toStringTag"),Ro=function(t,r,e){t&&!_o(t=e?t:t.prototype,Do)&&Po(t,Do,{configurable:!0,value:r})},Wo=w,Lo=O,Fo=hn,Uo=ht,No=function(t,r,e){for(var n in r)vo(t,n,r[n],e);return t},Vo=m,Bo=go,Co=dr,Yo=br,zo=wo,Go=Mo,qo=En,Jo=_n,Xo=yr.f,$o=nt.f,Ko=ko,Ho=Ro,Qo=Zt.get,Zo=Zt.set,ti="ArrayBuffer",ri="DataView",ei="Wrong index",ni=Wo.ArrayBuffer,oi=ni,ii=Wo.DataView,ai=ii&&ii.prototype,ui=Object.prototype,fi=Wo.RangeError,ci=Go.pack,si=Go.unpack,li=function(t){return[255&t]},yi=function(t){return[255&t,t>>8&255]},hi=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},pi=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},di=function(t){return ci(t,23,4)},vi=function(t){return ci(t,52,8)},gi=function(t,r){$o(t.prototype,r,{get:function(){return Qo(this)[r]}})},bi=function(t,r,e,n){var o=zo(e),i=Qo(t);if(o+r>i.byteLength)throw fi(ei);var a=Qo(i.buffer).bytes,u=o+i.byteOffset,f=a.slice(u,u+r);return n?f:f.reverse()},xi=function(t,r,e,n,o,i){var a=zo(e),u=Qo(t);if(a+r>u.byteLength)throw fi(ei);for(var f=Qo(u.buffer).bytes,c=a+u.byteOffset,s=n(+o),l=0;l<r;l++)f[c+l]=s[i?l:r-l-1]};if(Fo){if(!Vo((function(){ni(1)}))||!Vo((function(){new ni(-1)}))||Vo((function(){return new ni,new ni(1.5),new ni(NaN),ni.name!=ti}))){for(var wi,Ai=(oi=function(t){return Bo(this,oi),new ni(zo(t))}).prototype=ni.prototype,mi=Xo(ni),Oi=0;mi.length>Oi;)(wi=mi[Oi++])in oi||Uo(oi,wi,ni[wi]);Ai.constructor=oi}Jo&&qo(ai)!==ui&&Jo(ai,ui);var Ti=new ii(new oi(2)),Si=ai.setInt8;Ti.setInt8(0,2147483648),Ti.setInt8(1,2147483649),!Ti.getInt8(0)&&Ti.getInt8(1)||No(ai,{setInt8:function(t,r){Si.call(this,t,r<<24>>24)},setUint8:function(t,r){Si.call(this,t,r<<24>>24)}},{unsafe:!0})}else oi=function(t){Bo(this,oi,ti);var r=zo(t);Zo(this,{bytes:Ko.call(new Array(r),0),byteLength:r}),Lo||(this.byteLength=r)},ii=function(t,r,e){Bo(this,ii,ri),Bo(t,oi,ri);var n=Qo(t).byteLength,o=Co(r);if(o<0||o>n)throw fi("Wrong offset");if(o+(e=void 0===e?n-o:Yo(e))>n)throw fi("Wrong length");Zo(this,{buffer:t,byteLength:e,byteOffset:o}),Lo||(this.buffer=t,this.byteLength=e,this.byteOffset=o)},Lo&&(gi(oi,"byteLength"),gi(ii,"buffer"),gi(ii,"byteLength"),gi(ii,"byteOffset")),No(ii.prototype,{getInt8:function(t){return bi(this,1,t)[0]<<24>>24},getUint8:function(t){return bi(this,1,t)[0]},getInt16:function(t){var r=bi(this,2,t,arguments.length>1?arguments[1]:void 0);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=bi(this,2,t,arguments.length>1?arguments[1]:void 0);return r[1]<<8|r[0]},getInt32:function(t){return pi(bi(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return pi(bi(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return si(bi(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return si(bi(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,r){xi(this,1,t,li,r)},setUint8:function(t,r){xi(this,1,t,li,r)},setInt16:function(t,r){xi(this,2,t,yi,r,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,r){xi(this,2,t,yi,r,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,r){xi(this,4,t,hi,r,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,r){xi(this,4,t,hi,r,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,r){xi(this,4,t,di,r,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,r){xi(this,8,t,vi,r,arguments.length>2?arguments[2]:void 0)}});Ho(oi,ti),Ho(ii,ri);var Mi,ji={ArrayBuffer:oi,DataView:ii},Ei=dr,Ii=function(t){var r=Ei(t);if(r<0)throw RangeError("The argument can't be less than 0");return r},ki=function(t,r){var e=Ii(t);if(e%r)throw RangeError("Wrong offset");return e},Pi=_r,_i=Dr,Di=Object.keys||function(t){return Pi(t,_i)},Ri=nt,Wi=it,Li=Di,Fi=O?Object.defineProperties:function(t,r){Wi(t);for(var e,n=Li(r),o=n.length,i=0;o>i;)Ri.f(t,e=n[i++],r[e]);return t},Ui=lr("document","documentElement"),Ni=it,Vi=Fi,Bi=Dr,Ci=Nt,Yi=Ui,zi=q,Gi=Ut("IE_PROTO"),qi=function(){},Ji=function(t){return"<script>"+t+"</"+"script>"},Xi=function(){try{Mi=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,r;Xi=Mi?function(t){t.write(Ji("")),t.close();var r=t.parentWindow.Object;return t=null,r}(Mi):((r=zi("iframe")).style.display="none",Yi.appendChild(r),r.src=String("javascript:"),(t=r.contentWindow.document).open(),t.write(Ji("document.F=Object")),t.close(),t.F);for(var e=Bi.length;e--;)delete Xi.prototype[Bi[e]];return Xi()};Ci[Gi]=!0;var $i=Object.create||function(t,r){var e;return null!==t?(qi.prototype=Ni(t),e=new qi,qi.prototype=null,e[Gi]=t):e=Xi(),void 0===r?e:Vi(e,r)},Ki={},Hi=An,Qi=Ki,Zi=Le("iterator"),ta=Ki,ra=Le("iterator"),ea=Array.prototype,na=he,oa=br,ia=function(t){if(null!=t)return t[Zi]||t["@@iterator"]||Qi[Hi(t)]},aa=function(t){return void 0!==t&&(ta.Array===t||ea[ra]===t)},ua=le,fa=uo.aTypedArrayConstructor,ca=lr,sa=nt,la=O,ya=Le("species"),ha=U,pa=_n,da=fe,va=w,ga=O,ba=po,xa=uo,wa=ji,Aa=go,ma=E,Oa=ht,Ta=br,Sa=wo,Ma=ki,ja=V,Ea=C,Ia=An,ka=U,Pa=$i,_a=_n,Da=yr.f,Ra=function(t){var r,e,n,o,i,a,u=na(t),f=arguments.length,c=f>1?arguments[1]:void 0,s=void 0!==c,l=ia(u);if(null!=l&&!aa(l))for(a=(i=l.call(u)).next,u=[];!(o=a.call(i)).done;)u.push(o.value);for(s&&f>2&&(c=ua(c,arguments[2],2)),e=oa(u.length),n=new(fa(this))(e),r=0;e>r;r++)n[r]=s?c(u[r],r):u[r];return n},Wa=Je.forEach,La=function(t){var r=ca(t),e=sa.f;la&&r&&!r[ya]&&e(r,ya,{configurable:!0,get:function(){return this}})},Fa=nt,Ua=A,Na=function(t,r,e){var n,o;return pa&&"function"==typeof(n=r.constructor)&&n!==e&&ha(o=n.prototype)&&o!==e.prototype&&pa(t,o),t},Va=Zt.get,Ba=Zt.set,Ca=Fa.f,Ya=Ua.f,za=Math.round,Ga=va.RangeError,qa=wa.ArrayBuffer,Ja=wa.DataView,Xa=xa.NATIVE_ARRAY_BUFFER_VIEWS,$a=xa.TYPED_ARRAY_TAG,Ka=xa.TypedArray,Ha=xa.TypedArrayPrototype,Qa=xa.aTypedArrayConstructor,Za=xa.isTypedArray,tu="BYTES_PER_ELEMENT",ru="Wrong length",eu=function(t,r){for(var e=0,n=r.length,o=new(Qa(t))(n);n>e;)o[e]=r[e++];return o},nu=function(t,r){Ca(t,r,{get:function(){return Va(this)[r]}})},ou=function(t){var r;return t instanceof qa||"ArrayBuffer"==(r=Ia(t))||"SharedArrayBuffer"==r},iu=function(t,r){return Za(t)&&"symbol"!=typeof r&&r in t&&String(+r)==String(r)},au=function(t,r){return iu(t,r=ja(r,!0))?ma(2,t[r]):Ya(t,r)},uu=function(t,r,e){return!(iu(t,r=ja(r,!0))&&ka(e)&&Ea(e,"value"))||Ea(e,"get")||Ea(e,"set")||e.configurable||Ea(e,"writable")&&!e.writable||Ea(e,"enumerable")&&!e.enumerable?Ca(t,r,e):(t[r]=e.value,t)};ga?(Xa||(Ua.f=au,Fa.f=uu,nu(Ha,"buffer"),nu(Ha,"byteOffset"),nu(Ha,"byteLength"),nu(Ha,"length")),da({target:"Object",stat:!0,forced:!Xa},{getOwnPropertyDescriptor:au,defineProperty:uu}),fn.exports=function(t,r,e){var n=t.match(/\d+$/)[0]/8,o=t+(e?"Clamped":"")+"Array",i="get"+t,a="set"+t,u=va[o],f=u,c=f&&f.prototype,s={},l=function(t,r){Ca(t,r,{get:function(){return function(t,r){var e=Va(t);return e.view[i](r*n+e.byteOffset,!0)}(this,r)},set:function(t){return function(t,r,o){var i=Va(t);e&&(o=(o=za(o))<0?0:o>255?255:255&o),i.view[a](r*n+i.byteOffset,o,!0)}(this,r,t)},enumerable:!0})};Xa?ba&&(f=r((function(t,r,e,i){return Aa(t,f,o),Na(ka(r)?ou(r)?void 0!==i?new u(r,Ma(e,n),i):void 0!==e?new u(r,Ma(e,n)):new u(r):Za(r)?eu(f,r):Ra.call(f,r):new u(Sa(r)),t,f)})),_a&&_a(f,Ka),Wa(Da(u),(function(t){t in f||Oa(f,t,u[t])})),f.prototype=c):(f=r((function(t,r,e,i){Aa(t,f,o);var a,u,c,s=0,y=0;if(ka(r)){if(!ou(r))return Za(r)?eu(f,r):Ra.call(f,r);a=r,y=Ma(e,n);var h=r.byteLength;if(void 0===i){if(h%n)throw Ga(ru);if((u=h-y)<0)throw Ga(ru)}else if((u=Ta(i)*n)+y>h)throw Ga(ru);c=u/n}else c=Sa(r),a=new qa(u=c*n);for(Ba(t,{buffer:a,byteOffset:y,byteLength:u,length:c,view:new Ja(a)});s<c;)l(t,s++)})),_a&&_a(f,Ka),c=f.prototype=Pa(Ha)),c.constructor!==f&&Oa(c,"constructor",f),$a&&Oa(c,$a,o),s[o]=f,da({global:!0,forced:f!=u,sham:!Xa},s),tu in f||Oa(f,tu,n),tu in c||Oa(c,tu,n),La(o)}):fn.exports=function(){},(0,fn.exports)("Float32",(function(t){return function(r,e,n){return t(this,r,e,n)}}));var fu=he,cu=mr,su=br,lu=Math.min,yu=[].copyWithin||function(t,r){var e=fu(this),n=su(e.length),o=cu(t,n),i=cu(r,n),a=arguments.length>2?arguments[2]:void 0,u=lu((void 0===a?n:cu(a,n))-i,n-o),f=1;for(i<o&&o<i+u&&(f=-1,i+=u-1,o+=u-1);u-- >0;)i in e?e[o]=e[i]:delete e[o],o+=f,i+=f;return e},hu=uo.aTypedArray;(0,uo.exportTypedArrayMethod)("copyWithin",(function(t,r){return yu.call(hu(this),t,r,arguments.length>2?arguments[2]:void 0)}));var pu=Je.every,du=uo.aTypedArray;(0,uo.exportTypedArrayMethod)("every",(function(t){return pu(du(this),t,arguments.length>1?arguments[1]:void 0)}));var vu=ko,gu=uo.aTypedArray;(0,uo.exportTypedArrayMethod)("fill",(function(t){return vu.apply(gu(this),arguments)}));var bu=it,xu=ce,wu=Le("species"),Au=function(t,r){var e,n=bu(t).constructor;return void 0===n||null==(e=bu(n)[wu])?r:xu(e)},mu=uo.aTypedArrayConstructor,Ou=Au,Tu=Je.filter,Su=function(t,r){for(var e=Ou(t,t.constructor),n=0,o=r.length,i=new(mu(e))(o);o>n;)i[n]=r[n++];return i},Mu=uo.aTypedArray;(0,uo.exportTypedArrayMethod)("filter",(function(t){var r=Tu(Mu(this),t,arguments.length>1?arguments[1]:void 0);return Su(this,r)}));var ju=Je.find,Eu=uo.aTypedArray;(0,uo.exportTypedArrayMethod)("find",(function(t){return ju(Eu(this),t,arguments.length>1?arguments[1]:void 0)}));var Iu=Je.findIndex,ku=uo.aTypedArray;(0,uo.exportTypedArrayMethod)("findIndex",(function(t){return Iu(ku(this),t,arguments.length>1?arguments[1]:void 0)}));var Pu=Je.forEach,_u=uo.aTypedArray;(0,uo.exportTypedArrayMethod)("forEach",(function(t){Pu(_u(this),t,arguments.length>1?arguments[1]:void 0)}));var Du=jr.includes,Ru=uo.aTypedArray;(0,uo.exportTypedArrayMethod)("includes",(function(t){return Du(Ru(this),t,arguments.length>1?arguments[1]:void 0)}));var Wu=jr.indexOf,Lu=uo.aTypedArray;(0,uo.exportTypedArrayMethod)("indexOf",(function(t){return Wu(Lu(this),t,arguments.length>1?arguments[1]:void 0)}));var Fu=$i,Uu=nt,Nu=Le("unscopables"),Vu=Array.prototype;null==Vu[Nu]&&Uu.f(Vu,Nu,{configurable:!0,value:Fu(null)});var Bu,Cu,Yu,zu=m,Gu=En,qu=ht,Ju=C,Xu=Le("iterator"),$u=!1;[].keys&&("next"in(Yu=[].keys())?(Cu=Gu(Gu(Yu)))!==Object.prototype&&(Bu=Cu):$u=!0),(null==Bu||zu((function(){var t={};return Bu[Xu].call(t)!==t})))&&(Bu={}),Ju(Bu,Xu)||qu(Bu,Xu,(function(){return this}));var Ku={IteratorPrototype:Bu,BUGGY_SAFARI_ITERATORS:$u},Hu=Ku.IteratorPrototype,Qu=$i,Zu=E,tf=Ro,rf=Ki,ef=function(){return this},nf=fe,of=function(t,r,e){var n=r+" Iterator";return t.prototype=Qu(Hu,{next:Zu(1,e)}),tf(t,n,!1),rf[n]=ef,t},af=En,uf=_n,ff=Ro,cf=ht,sf=pt.exports,lf=Ki,yf=Ku.IteratorPrototype,hf=Ku.BUGGY_SAFARI_ITERATORS,pf=Le("iterator"),df="keys",vf="values",gf="entries",bf=function(){return this},xf=F,wf=function(t){Vu[Nu][t]=!0},Af=Ki,mf=Zt,Of=function(t,r,e,n,o,i,a){of(e,r,n);var u,f,c,s=function(t){if(t===o&&d)return d;if(!hf&&t in h)return h[t];switch(t){case df:case vf:case gf:return function(){return new e(this,t)}}return function(){return new e(this)}},l=r+" Iterator",y=!1,h=t.prototype,p=h[pf]||h["@@iterator"]||o&&h[o],d=!hf&&p||s(o),v="Array"==r&&h.entries||p;if(v&&(u=af(v.call(new t)),yf!==Object.prototype&&u.next&&(af(u)!==yf&&(uf?uf(u,yf):"function"!=typeof u[pf]&&cf(u,pf,bf)),ff(u,l,!0))),o==vf&&p&&p.name!==vf&&(y=!0,d=function(){return p.call(this)}),h[pf]!==d&&cf(h,pf,d),lf[r]=d,o)if(f={values:s(vf),keys:i?d:s(df),entries:s(gf)},a)for(c in f)(hf||y||!(c in h))&&sf(h,c,f[c]);else nf({target:r,proto:!0,forced:hf||y},f);return f},Tf="Array Iterator",Sf=mf.set,Mf=mf.getterFor(Tf),jf=Of(Array,"Array",(function(t,r){Sf(this,{type:Tf,target:xf(t),index:0,kind:r})}),(function(){var t=Mf(this),r=t.target,e=t.kind,n=t.index++;return!r||n>=r.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==e?{value:n,done:!1}:"values"==e?{value:r[n],done:!1}:{value:[n,r[n]],done:!1}}),"values");Af.Arguments=Af.Array,wf("keys"),wf("values"),wf("entries");var Ef=w,If=uo,kf=jf,Pf=Le("iterator"),_f=Ef.Uint8Array,Df=kf.values,Rf=kf.keys,Wf=kf.entries,Lf=If.aTypedArray,Ff=If.exportTypedArrayMethod,Uf=_f&&_f.prototype[Pf],Nf=!!Uf&&("values"==Uf.name||null==Uf.name),Vf=function(){return Df.call(Lf(this))};Ff("entries",(function(){return Wf.call(Lf(this))})),Ff("keys",(function(){return Rf.call(Lf(this))})),Ff("values",Vf,!Nf),Ff(Pf,Vf,!Nf);var Bf=uo.aTypedArray,Cf=[].join;(0,uo.exportTypedArrayMethod)("join",(function(t){return Cf.apply(Bf(this),arguments)}));var Yf=F,zf=dr,Gf=br,qf=en,Jf=Math.min,Xf=[].lastIndexOf,$f=!!Xf&&1/[1].lastIndexOf(1,-0)<0,Kf=qf("lastIndexOf"),Hf=$f||!Kf?function(t){if($f)return Xf.apply(this,arguments)||0;var r=Yf(this),e=Gf(r.length),n=e-1;for(arguments.length>1&&(n=Jf(n,zf(arguments[1]))),n<0&&(n=e+n);n>=0;n--)if(n in r&&r[n]===t)return n||0;return-1}:Xf,Qf=uo.aTypedArray;(0,uo.exportTypedArrayMethod)("lastIndexOf",(function(t){return Hf.apply(Qf(this),arguments)}));var Zf=Je.map,tc=Au,rc=uo.aTypedArray,ec=uo.aTypedArrayConstructor;(0,uo.exportTypedArrayMethod)("map",(function(t){return Zf(rc(this),t,arguments.length>1?arguments[1]:void 0,(function(t,r){return new(ec(tc(t,t.constructor)))(r)}))}));var nc=ce,oc=he,ic=D,ac=br,uc=function(t){return function(r,e,n,o){nc(e);var i=oc(r),a=ic(i),u=ac(i.length),f=t?u-1:0,c=t?-1:1;if(n<2)for(;;){if(f in a){o=a[f],f+=c;break}if(f+=c,t?f<0:u<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:u>f;f+=c)f in a&&(o=e(o,a[f],f,i));return o}},fc={left:uc(!1),right:uc(!0)},cc=fc.left,sc=uo.aTypedArray;(0,uo.exportTypedArrayMethod)("reduce",(function(t){return cc(sc(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var lc=fc.right,yc=uo.aTypedArray;(0,uo.exportTypedArrayMethod)("reduceRight",(function(t){return lc(yc(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}));var hc=uo.aTypedArray,pc=uo.exportTypedArrayMethod,dc=Math.floor;pc("reverse",(function(){for(var t,r=this,e=hc(r).length,n=dc(e/2),o=0;o<n;)t=r[o],r[o++]=r[--e],r[e]=t;return r}));var vc=br,gc=ki,bc=he,xc=uo.aTypedArray;(0,uo.exportTypedArrayMethod)("set",(function(t){xc(this);var r=gc(arguments.length>1?arguments[1]:void 0,1),e=this.length,n=bc(t),o=vc(n.length),i=0;if(o+r>e)throw RangeError("Wrong length");for(;i<o;)this[r+i]=n[i++]}),m((function(){new Int8Array(1).set({})})));var wc=Au,Ac=uo.aTypedArray,mc=uo.aTypedArrayConstructor,Oc=[].slice;(0,uo.exportTypedArrayMethod)("slice",(function(t,r){for(var e=Oc.call(Ac(this),t,r),n=wc(this,this.constructor),o=0,i=e.length,a=new(mc(n))(i);i>o;)a[o]=e[o++];return a}),m((function(){new Int8Array(1).slice()})));var Tc=Je.some,Sc=uo.aTypedArray;(0,uo.exportTypedArrayMethod)("some",(function(t){return Tc(Sc(this),t,arguments.length>1?arguments[1]:void 0)}));var Mc=uo.aTypedArray,jc=[].sort;(0,uo.exportTypedArrayMethod)("sort",(function(t){return jc.call(Mc(this),t)}));var Ec=br,Ic=mr,kc=Au,Pc=uo.aTypedArray;(0,uo.exportTypedArrayMethod)("subarray",(function(t,r){var e=Pc(this),n=e.length,o=Ic(t,n);return new(kc(e,e.constructor))(e.buffer,e.byteOffset+o*e.BYTES_PER_ELEMENT,Ec((void 0===r?n:Ic(r,n))-o))}));var _c=uo,Dc=m,Rc=w.Int8Array,Wc=_c.aTypedArray,Lc=_c.exportTypedArrayMethod,Fc=[].toLocaleString,Uc=[].slice,Nc=!!Rc&&Dc((function(){Fc.call(new Rc(1))}));Lc("toLocaleString",(function(){return Fc.apply(Nc?Uc.call(Wc(this)):Wc(this),arguments)}),Dc((function(){return[1,2].toLocaleString()!=new Rc([1,2]).toLocaleString()}))||!Dc((function(){Rc.prototype.toLocaleString.call([1,2])})));var Vc=uo.exportTypedArrayMethod,Bc=m,Cc=w.Uint8Array,Yc=Cc&&Cc.prototype||{},zc=[].toString,Gc=[].join;Bc((function(){zc.call({})}))&&(zc=function(){return Gc.call(this)});var qc=Yc.toString!=zc;Vc("toString",zc,qc);var Jc=An,Xc=vn?{}.toString:function(){return"[object "+Jc(this)+"]"},$c=vn,Kc=pt.exports,Hc=Xc;$c||Kc(Object.prototype,"toString",Hc,{unsafe:!0});var Qc=fe,Zc=m,ts=it,rs=mr,es=br,ns=Au,os=ji.ArrayBuffer,is=ji.DataView,as=os.prototype.slice;Qc({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Zc((function(){return!new os(2).slice(1,void 0).byteLength}))},{slice:function(t,r){if(void 0!==as&&void 0===r)return as.call(ts(this),t);for(var e=ts(this).byteLength,n=rs(t,e),o=rs(void 0===r?e:r,e),i=new(ns(this,os))(es(o-n)),a=new is(this),u=new is(i),f=0;n<o;)u.setUint8(f++,a.getUint8(n++));return i}}),(0,fn.exports)("Uint8",(function(t){return function(r,e,n){return t(this,r,e,n)}}));var us=fe,fs=ce,cs=he,ss=m,ls=en,ys=[],hs=ys.sort,ps=ss((function(){ys.sort(void 0)})),ds=ss((function(){ys.sort(null)})),vs=ls("sort");function gs(t,r,e){return Math.max(r,Math.min(e,t))}function bs(t,r,e){return t+(r-t)*e}us({target:"Array",proto:!0,forced:ps||!ds||!vs},{sort:function(t){return void 0===t?hs.call(cs(this)):hs.call(cs(this),fs(t))}});var xs=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;c(this,t),this.x=r,this.y=e}var r,e,n;return r=t,(e=[{key:"set",value:function(t,r){return this.x=t,this.y=r,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this}},{key:"addVectors",value:function(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this}},{key:"addScaledVector",value:function(t,r){return this.x+=t.x*r,this.y+=t.y*r,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this}},{key:"subVectors",value:function(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var t=Math.atan2(-this.y,-this.x)+Math.PI;return t}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var r=this.x-t.x,e=this.y-t.y;return r*r+e*e}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"rotateAround",value:function(t,r){var e=Math.cos(r),n=Math.sin(r),o=this.x-t.x,i=this.y-t.y;return this.x=o*e-i*n+t.x,this.y=o*n+i*e+t.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}}])&&s(r.prototype,e),n&&s(r,n),t}(),ws=180/Math.PI;function As(t){if("polyline"!==t.type.toLowerCase())throw new Error("geometry type is not polyline");return t.paths.map((function(t){if(t.length<2)return console.warn("path's point length < 2, ignored"),null;for(var r=[],e=[],n=[],o={distance:0,d01:new xs,d12:new xs,n01:new xs,n12:new xs,l01:0,l12:0},i=new xs,a=0;a<t.length;a++){var u=t[a-1],f=t[a],c=t[a+1];if(u)if(c){i.set(c[0]-f[0],c[1]-f[1]),o.l12=i.length(),i.normalize(),o.d12.copy(i),o.n12.set(-i.y,i.x);var s=o.n01,l=o.n12,y=o.distance,d=s.cross(l)<=0;i.addVectors(s,l).normalize(),i.multiplyScalar(1/s.dot(i));var v=(new xs).subVectors(i,s).length(),g=void 0,b=void 0,x=void 0;d?(i.multiplyScalar(-1),g={x:f[0],y:f[1],xOffset:i.x,yOffset:i.y,distance:y,disWidthDelta:null,side:-1,cw:!0,n01:s.clone(),n12:l.clone()},b={x:f[0],y:f[1],xOffset:i.x+2*s.x,yOffset:i.y+2*s.y,distance:y,disWidthDelta:-v,side:1},x={x:f[0],y:f[1],xOffset:i.x+2*l.x,yOffset:i.y+2*l.y,distance:y,disWidthDelta:+v,side:1}):(g={x:f[0],y:f[1],xOffset:i.x,yOffset:i.y,distance:y,disWidthDelta:null,side:1,cw:!1,n01:s.clone(),n12:l.clone()},b={x:f[0],y:f[1],xOffset:i.x-2*s.x,yOffset:i.y-2*s.y,distance:y,disWidthDelta:-v,side:-1},x={x:f[0],y:f[1],xOffset:i.x-2*l.x,yOffset:i.y-2*l.y,distance:y,disWidthDelta:v,side:-1}),n.push([b,g,x])}else{var w=o.distance,A=o.n01;n.push([{x:f[0],y:f[1],xOffset:A.x,yOffset:A.y,distance:w,disWidthDelta:0,side:1},{x:f[0],y:f[1],xOffset:-A.x,yOffset:-A.y,distance:w,disWidthDelta:0,side:-1}])}else i.set(c[0]-f[0],c[1]-f[1]),o.l12=i.length(),i.normalize(),o.d12.copy(i),o.n12.set(-i.y,i.x),n.push([{x:f[0],y:f[1],xOffset:o.n12.x,yOffset:o.n12.y,distance:o.distance,disWidthDelta:0,side:1},{x:f[0],y:f[1],xOffset:-o.n12.x,yOffset:-o.n12.y,distance:o.distance,disWidthDelta:0,side:-1}]);o.distance+=o.l12,o.l01=o.l12,o.l12=0,o.d01.copy(o.d12),o.n01.copy(o.n12)}for(;n.length;){var m=n.shift(),O=n.shift();if(2===O.length){var T=r.length;r.push(m[0],m[1],O[0],O[1]),e.push(T,T+1,T+2,T+1,T+3,T+2)}else{var S=p(m,2),M=S[0],j=S[1],E=p(O,3),I=E[0],k=E[1],P=E[2],_=k.n01,D=k.n12,R=k.cw,W=k.xOffset,L=k.yOffset,F=r.length;R?r.push(M,j,I,h(h({},k),{},{disWidthDelta:I.disWidthDelta})):r.push(M,j,h(h({},k),{},{disWidthDelta:I.disWidthDelta}),I),e.push(F,F+1,F+2,F+1,F+3,F+2);for(var U=Math.acos(_.dot(D))*ws,N=U?Math.ceil(U/30):0,V=X(_.clone().multiplyScalar(2*(R?1:-1)),D.clone().multiplyScalar(2*(R?1:-1)),I.disWidthDelta,P.disWidthDelta,R,N+2),B=0;B<V.length-1;B++){var C=V[B],Y=V[B+1];F=r.length;var z=h(h({},I),{},{xOffset:W+C.vec.x,yOffset:L+C.vec.y,disWidthDelta:C.val}),G=h(h({},k),{},{disWidthDelta:.5*(C.val+Y.val)}),q=h(h({},I),{},{xOffset:W+Y.vec.x,yOffset:L+Y.vec.y,disWidthDelta:Y.val});r.push(z,G,q),R?e.push(F,F+1,F+2):e.push(F,F+2,F+1)}var J=[h(h({},k),{},{disWidthDelta:P.disWidthDelta}),P];R&&J.reverse(),n.unshift(J)}}return r.forEach((function(t){t.yOffset*=-1,delete t.cw,delete t.n01,delete t.n12})),{vertices:r,indices:e,totalDis:o.distance};function X(t,r,e,n){for(var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,a=Math.acos(t.dot(r)/(t.length()*r.length()))||0,u=(o?-1:1)*a/(i-1),f=(n-e)/(i-1),c=Math.cos(u),s=Math.sin(u),l=[],y=0;y<i;y++){var h=void 0;if(0===y)h={x:t.x,y:t.y};else{var p=l[y-1].vec;h={x:p.x*c-p.y*s,y:p.x*s+p.y*c}}l.push({vec:h,val:f*y+e})}return l}}))}t.createRasterFlowLineMesh=function(t){var r=t.data,e=t.setting;r.data=new Float32Array(r.data);var n=function(t){for(var r=0,e=0;e<t.length;e++)r+=t[e].length-1;for(var n=4*r,o=new Float32Array(n),i=new Float32Array(n),a=new Float32Array(n),u=0,f=0;f<t.length;f++)for(var c=t[f],s=c[c.length-1].t,l=Math.random(),y=c.length,h=0,p=y-2;h<=p;h++){var d=4*u,v=d+1,g=d+2,b=d+3,x=0===h?c[0]:c[h-1],w=c[h],A=c[h+1],m=h===p?c[h+1]:c[h+2];o[d]=x.x,o[v]=x.y,o[g]=w.x,o[b]=w.y,i[d]=A.x,i[v]=A.y,i[g]=m.x,i[b]=m.y,a[d]=w.t,a[v]=A.t,a[g]=s,a[b]=l,u++}return{buffer1:o,buffer2:i,buffer3:a}}(function(t,r,e,n){var o=[],i=p(t.limitRange,4),a=i[0],f=i[1],c=i[2],s=i[3],l=1/t.lineCollisionWidth;l>1&&(l=Math.min(Math.pow(l,.5),10));for(var y=Math.round((f-a)*l),h=Math.round((s-c)*l),d=new Uint8Array(y*h),v=[],g=0;g<n;g+=t.lineSpacing)if(g===gs(g,c,s))for(var b=0;b<e;b+=t.lineSpacing)b===gs(b,a,f)&&v.push({x:b,y:g,sort:Math.random()});v.sort((function(t,r){return t.sort-r.sort}));for(var x=function(t){var r=p(t,4),e=r[0],n=r[1],o=r[2],i=r[3];return function(t,r){return t>=e&&t<=n&&r>=o&&r<=i}}(t.limitRange),w=0,A=v;w<A.length;w++){var m=A[w],O=m.x,T=m.y;if(Math.random()<t.density){var S=u(t,r,O,T,d,y,h,l,t.limitRange,x);S.length>2&&o.push(S)}}return o}(e,function(t){var r=t.width,e=t.height,n=t.data,o=t.noDataValue;return function(t,i){var a=new xs(t,i).floor();if(a.x<0||a.x>=r||a.y<0||a.y>=e)return[0,0];t-=a.x,i-=a.y;var u=a.x<r-1?1:0,f=a.y<e-1?1:0,c=a.y*r+a.x,s=a.y*r+(a.x+u),l=(a.y+f)*r+a.x,y=(a.y+f)*r+(a.x+u),h=p([c,l,s,y].map((function(t){var r=n[2*t];return r===o?0:r})),4),d=h[0],v=h[1],g=h[2],b=h[3],x=p([c,l,s,y].map((function(t){var r=n[2*t+1];return r===o?0:r})),4),w=x[0],A=x[1],m=x[2],O=x[3];return[bs(bs(d,v,i),bs(g,b,i),t),bs(bs(w,A,i),bs(m,O,i),t)]}}(r),r.width,r.height)),o=n.buffer1,i=n.buffer2,a=n.buffer3;return{result:{buffer1:o.buffer,buffer2:i.buffer,buffer3:a.buffer},transferList:[o.buffer,i.buffer,a.buffer]};function u(t,r,e,n,o,i,a,u,f,c){var s=[],l=0,y=new xs(e,n),h=new xs,v=new xs,g=new xs;s.push({x:e,y:n,t:l});for(var b=0;b<t.verticesPerLine&&(!b||c(y.x,y.y));b++){var x=g.set.apply(g,d(r(y.x,y.y))).multiplyScalar(t.velocityScale),w=x.length();if(w<t.minSpeedThreshold)break;v.copy(x).multiplyScalar(1/w);var A=g.copy(y).addScaledVector(v,t.segmentLength);if(l+=t.segmentLength/w,b&&Math.acos(v.dot(h))>t.maxTurnAngle)break;if(t.mergeLines){var m=p(f,4),O=m[0];m[1];var T=m[2];m[3];var S=Math.round((A.x-O)*u),M=Math.round((A.y-T)*u);if(S<0||S>i-1||M<0||M>a-1)break;if(o[M*i+S]>0)break;o[M*i+S]=1}s.push({x:A.x,y:A.y,t:l}),h.copy(v),y.copy(A)}return s}},t.tessellateFlowLine=function(t){return u.load().then((function(){var r=JSON.parse(t),e=r.sr,n=r.geometry;return e=new f.default(e),n=a.simplify(n),e.equals(n.spatialReference)||(n=u.project(n,e)),{mesh:As(n),extent:n.extent.toJSON()}}))},Object.defineProperty(t,"__esModule",{value:!0})}));
